<html>
<!-- 25/11/26 v1.14 週平均気温テーブル追加 -->

<head>
    <title>Weather Check</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <link rel="stylesheet" href="weather.css">
</head>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
                     %tempera_graph%
                ]);

            var options = {
                title: '気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %tempera_graph_daily%
                ]);

            var options = {
                title: '日毎気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph_daily'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %tempera_graph_week%
                ]);

            var options = {
                title: '日毎気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph_week'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %week_rain_time_graph%
                ]);

            var options = {
                title: '雨時間グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                },
                width: 900,   /* タブのとき、div のサイズが無視されるようなのでここで指定 */
                height: 400
            };

            var chart = new google.visualization.LineChart(document.getElementById('week_rain_time_graph'));
            chart.draw(data, options);
        }
    );
</script>

<body>
    <h1>Weather Check</h1>
    <span style="font-size:12px;">Ver : %version%</span>&nbsp;&nbsp;&nbsp;
    <span style="font-size:12px;">実行日時 : %today%</span><br><br>
    <div class="container">
        <ul class="menu">
            <li><a href="#" data-id="temperature" class="active menu_item" >気温</a></li>
            <li><a href="#" data-id="rain" class="menu_item">雨</a></li>
            <li><a href="#" data-id="week_forecast" class="menu_item">週間予報</a></li>
            <li><a href="#" data-id="forecast" class="menu_item">時間予報</a></li>
            <li><a href="#" data-id="hitrate" class="menu_item">的中率</a></li>
        </ul>
        <div class="content  active" id="temperature">
            <h2>気温グラフ</h2>
            <h3><span class="h3_color">時間毎気温グラフ</span></h3>
            <div id="tempera_graph" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>
            <h3><span class="h3_color">日毎気温グラフ</span></h3>
            <div id="tempera_graph_daily" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>
            <h3><span class="h3_color">7日移動平均気温グラフ</span></h3>
            <div id="tempera_graph_week" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>
            <br>
            <h2>日別気温データ</h2>
            7日平均気温 : 
            %tempera_week%
            &nbsp;&nbsp;&nbsp;1週間前との差分 :
            %tempera_week_diff%
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>平均気温</th><th>最高</th><th>最低</th><th>標準偏差</th><th>前日差</th><th>同日差</th>
                        </tr>
                        %daily_tempera1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>平均気温</th><th>最高</th><th>最低</th><th>標準偏差</th><th>前日差</th><th>同日差</th>
                        </tr>
                        %daily_tempera2%
                    </table>
                </div>
            </div>
            <br>
            <h2>週平均気温データ</h2>
            <table>
                <tr>
                    <th>日付</th><th>週平均気温</th><th>前日差</th><th>7日前差</th><th>14日前差</th>
                </tr>
                %weekly_tempera_table%
            </table>
            <h2>月別気温データ</h2>
            <table>
                <tr>
                    <th>年月</th><th>平均気温</th><th>平均最高</th><th>平均最低</th><th>最高</th><th>最低</th><th>STD</th>
                    <th>夏日</th><th>真夏日</th><th>猛暑日</th>
                </tr>
                %monthly_tempera%
            </table>
            <br>
            <h2>最高最低気温</h2>
            <h3><span class="h3_color">全データ</span></h3>
            <table>
                <tr>
                    <th>項目</th><th>最高</th><th>日付</th><th>最低</th><th>日付</th>
                </tr>
                %min_max_temperature%
            </table>
            <h3><span class="h3_color">過去30日</span></h3>
            <table>
                <tr>
                    <th>項目</th><th>最高</th><th>日付</th><th>最低</th><th>日付</th>
                </tr>
                %min_max_temperature_30days%
            </table>
            <br>
            <h2>ランキング 気温</h2>
            <div class="flex">
                <div class='frame'>
                    <table>
                    <tr><th>順位</th><th>日付</th><th>平均気温</th></tr>
                    %ranking_ave_tempera%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                    <tr><th>順位</th><th>日付</th><th>最高気温</th></tr>
                    %ranking_max_tempera%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                    <tr><th>順位</th><th>日付</th><th>最低気温</th></tr>
                    %ranking_min_tempera%
                    </table>
                </div>
            </div>
            <h3><span class="h3_color">寒暖差 ランキング</span></h3>
            <div class="flex">
                <div class='frame'>
                    <table>
                    <tr><th>順位</th><th>日付</th><th>前日差</th></tr>
                    %ranking_diff_top%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                    <tr><th>順位</th><th>日付</th><th>前日差</th></tr>
                    %ranking_diff_low%
                    </table>
                </div>
            </div>

        </div>
        <div class="content" id="rain">
            <h2>現在の状況</h2>
             : %cur_continuous%
            <br><br>
            <h2>週平均1日雨時間グラフ(365日)</h2> 
            <div id="week_rain_time_graph" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div> 
            <!--  <div id="week_rain_time_graph"  style="position: static;"></div>-->
            <br>
            <h2>月別雨時間</h2> 
            <table>
                <tr>
                    <th>年月</th><th>1日平均雨時間</th><th>1日最大雨時間</th><th>雨日数</th><th>降水量</th><th>日平均降水量</th>
                    <th>日最大降水量</th>
                </tr>
                %monthly_rain_time%
            </table><br>
            <h2>日別降水量</h2> 
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>降水量</th>
                        </tr>
                        %daily_precipitation1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>降水量</th>
                        </tr>
                        %daily_precipitation2%
                    </table>
                </div>
            </div>
            <br>
            <h2>連続晴・雨時間</h2>
            <h3><span class="h3_color">連続晴・雨時間Top</span></h3>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>連続雨時間</th>
                        </tr>
                        %top_continuous_rain%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>連続晴時間</th>
                        </tr>
                        %top_continuous_fine%
                    </table>
                </div>
            </div>
            <h3><span class="h3_color">連続晴・雨時間</span></h3>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>連続雨時間</th>
                        </tr>
                        %continuous_rain%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th><th>連続晴時間</th>
                        </tr>
                        %continuous_fine%
                    </table>
                </div>
            </div>

        </div>

        <div class="content" id="forecast">
            <div class="table-container">
                <table>
                    %hour_forecast%
                </table>
            </div>
        </div>
        <div class="content" id="week_forecast">
            <div class="table-container">
                <table>
                    %week_forecast%
                </table>
            </div>

        </div>
        <div class="content" id="hitrate">
            <h2>週間天気 的中率</h2>
            <div class="flex">
                <div class='frame'>
                    <table>
                    <tr>
                    <th>日</th>
                    <th>天気</th>
                    <th>雨時間</th>
                    <th>回数</th>
                    <th>的中</th>
                    <th>的中率</th>
                    </tr>
                    %week_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                    <tr>
                    <th>日</th>
                    <th>天気</th>
                    <th>雨時間</th>
                    <th>回数</th>
                    <th>的中</th>
                    <th>的中率</th>
                    </tr>
                    %week_hit_rate2%
                    </table>
                </div>
            </div>
            <h2>1時間天気 日別的中率</h2>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日</th>
                            <th>天気</th>
                            <th>雨時間</th>
                            <th>回数</th>
                            <th>的中</th>
                            <th>的中率</th>
                        </tr>
                        %daily_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日</th>
                            <th>天気</th>
                            <th>雨時間</th>
                            <th>回数</th>
                            <th>的中</th>
                            <th>的中率</th>
                        </tr>
                        %daily_hit_rate2%
                    </table>
                </div>
            </div>
            <h2>1時間天気 時間的中率</h2>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate2%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate3%
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="weather.js"></script>

</body>

</html>
