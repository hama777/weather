<html>
<!-- 25/04/28 タブ追加でグラフのサイズが不正になるのを修正 -->

<head>
    <title>Weather Check</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <link rel="stylesheet" href="weather.css">
</head>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
                     %tempera_graph%
                ]);

            var options = {
                title: '気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %tempera_graph_daily%
                ]);

            var options = {
                title: '日毎気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph_daily'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %tempera_graph_week%
                ]);

            var options = {
                title: '日毎気温グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                curveType: 'function',
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                }
            };

            var chart = new google.visualization.LineChart(document.getElementById('tempera_graph_week'));
            chart.draw(data, options);
        }
    );
</script>

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(
        function () {
            var data = google.visualization.arrayToDataTable([
                ['', '時間'],
    %week_rain_time_graph%
                ]);

            var options = {
                title: '雨時間グラフ',
                colors: ['#32a852'],
                hAxis: { title: '日時' },
                chartArea: { backgroundColor: '#b7ebc5', left: 50, right: 30 },
                backgroundColor: '#daebdf',
                legend: {
                    position: 'none'
                },
                width: 900,   /* タブのとき、div のサイズが無視されるようなのでここで指定 */
                height: 400
            };

            var chart = new google.visualization.LineChart(document.getElementById('week_rain_time_graph'));
            chart.draw(data, options);
        }
    );
</script>

<body>
    <h1>Weather Check</h1>
    <span style="font-size:12px;">Ver : %version%</span>&nbsp;&nbsp;&nbsp;
    <span style="font-size:12px;">実行日時 : %today%</span><br><br>
    <div class="container">
        <ul class="menu">
            <li><a href="#" data-id="temperature" class="active menu_item" >気温</a></li>
            <li><a href="#" data-id="rain" class="menu_item">雨</a></li>
            <li><a href="#" data-id="week_forecast" class="menu_item">週間予報</a></li>
            <li><a href="#" data-id="forecast" class="menu_item">時間予報</a></li>
            <li><a href="#" data-id="hitrate" class="menu_item">的中率</a></li>
        </ul>
        <div class="content  active" id="temperature">
            <b>時間毎気温グラフ</b>
            <div id="tempera_graph" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>
            <b>日毎気温グラフ</b>
            <div id="tempera_graph_daily" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>
            <b>7日移動平均気温グラフ</b>
            <div id="tempera_graph_week" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div>

            <b>最高最低気温</b><br>
            %min_max_temperature%
            <br>
            <b>日別気温データ</b>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th>
                            <th>平均気温</th>
                            <th>最高</th>
                            <th>最低</th>
                        </tr>
                        %daily_tempera1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日付</th>
                            <th>平均気温</th>
                            <th>最高</th>
                            <th>最低</th>
                        </tr>
                        %daily_tempera2%
                    </table>
                </div>
            </div>
        </div>
        <div class="content" id="rain">
            <b>7日移動平均1日雨時間グラフ</b> 
            <div id="week_rain_time_graph" style="width:900px; height:400px;  margin-top:20px ; margin-left:  50px; "></div> 
            <!--  <div id="week_rain_time_graph"  style="position: static;"></div>-->
        </div>

        <div class="content" id="forecast">
            <div class="table-container">
                <table>
                    %hour_forecast%
                </table>
            </div>
        </div>
        <div class="content" id="week_forecast">
            <div class="table-container">
                <table>
                    %week_forecast%
                </table>
            </div>

        </div>
        <div class="content" id="hitrate">
            <b>週間天気 的中率</b>
            <div class="flex">
                <div class='frame'>
                    <table>
                    <tr>
                    <th>日</th>
                    <th>天気</th>
                    <th>雨時間</th>
                    <th>回数</th>
                    <th>的中</th>
                    <th>的中率</th>
                    </tr>
                    %week_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                    <tr>
                    <th>日</th>
                    <th>天気</th>
                    <th>雨時間</th>
                    <th>回数</th>
                    <th>的中</th>
                    <th>的中率</th>
                    </tr>
                    %week_hit_rate2%
                    </table>
                </div>
            </div>
            <b>1時間天気 日別的中率</b>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日</th>
                            <th>天気</th>
                            <th>雨時間</th>
                            <th>回数</th>
                            <th>的中</th>
                            <th>的中率</th>
                        </tr>
                        %daily_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日</th>
                            <th>天気</th>
                            <th>雨時間</th>
                            <th>回数</th>
                            <th>的中</th>
                            <th>的中率</th>
                        </tr>
                        %daily_hit_rate2%
                    </table>
                </div>
            </div>
            <b>1時間天気 時間的中率</b>
            <div class="flex">
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate1%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate2%
                    </table>
                </div>
                <div class='frame'>
                    <table>
                        <tr>
                            <th>日時</th>
                            <th>天気</th>
                            <th>Rate</th>
                            <th>Rate(24h)</th>
                        </tr>
                        %output_hit_rate3%
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="weather.js"></script>

</body>

</html>
